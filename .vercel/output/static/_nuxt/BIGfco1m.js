import{G as v,d as m,h as e,g as i,t as r,M as u,a0 as w,e as _,F as $,V as P,n as D,w as C,z as k,Z as B,r as E,am as O,an as U,B as A,o as R,av as G,aw as J}from"./BrLmWrYa.js";import{g as j}from"./BoBmuudy.js";import{u as Z}from"./CZza44dS.js";import{u as q}from"./xjhwoifo.js";import"./PjYy4atI.js";import"./Pn0aPADR.js";const H={class:"mb-16"},K={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Q={class:"lg:col-span-2"},W={class:"group relative h-[450px] overflow-hidden rounded-2xl shadow-lg"},X={class:"absolute bottom-0 left-0 p-8 text-white"},Y={class:"mb-3 flex items-center gap-3"},ee={class:"text-primary-foreground rounded-full bg-primary px-3 py-1 text-xs font-medium"},te={class:"text-sm font-light opacity-90"},se={class:"mb-5 line-clamp-2 text-lg opacity-90"},oe={class:"flex items-center gap-3"},ae={class:"font-medium"},re=v({__name:"main",props:{featuredPosts:{}},setup(b){return(t,a)=>{var o,s,l,p,d,g,f,y;const n=w;return _(),m("section",H,[e("div",K,[e("div",Q,[e("div",W,[i(n,{src:((o=t.featuredPosts[0])==null?void 0:o.image)||"https://placehold.co/800x400",class:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105",alt:"Featured post"},null,8,["src"]),a[1]||(a[1]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent"},null,-1)),e("div",X,[e("div",Y,[e("span",ee,r((s=t.featuredPosts[0])==null?void 0:s.category),1),e("span",te,r((l=t.featuredPosts[0])==null?void 0:l.date),1)]),e("h2",{class:"mb-3 cursor-pointer text-3xl leading-tight font-bold",onClick:a[0]||(a[0]=T=>{var h;return("goToPost"in t?t.goToPost:u(j))(((h=t.featuredPosts[0])==null?void 0:h.id)||0)})},r((p=t.featuredPosts[0])==null?void 0:p.title),1),e("p",se,r((d=t.featuredPosts[0])==null?void 0:d.excerpt),1),e("div",oe,[i(n,{src:(g=t.featuredPosts[0])==null?void 0:g.author.avatar,class:"h-10 w-10 rounded-full border-2 border-white/30",alt:(f=t.featuredPosts[0])==null?void 0:f.author.name},null,8,["src","alt"]),e("span",ae,r((y=t.featuredPosts[0])==null?void 0:y.author.name),1)])])])])])])}}}),ne=Object.assign(re,{__name:"BlogMain"}),le={class:"mb-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},ie={class:"flex flex-wrap gap-2"},de=["onClick"],ce=v({__name:"categorySelector",props:{categories:{},selectedCategory:{}},emits:["update:selectedCategory"],setup(b,{emit:t}){const a=t;function n(o){a("update:selectedCategory",o)}return(o,s)=>(_(),m("div",le,[s[0]||(s[0]=e("h2",{class:"text-xl font-bold sm:text-2xl md:text-3xl"},"Latest Posts",-1)),e("div",ie,[(_(!0),m($,null,P(o.categories,l=>(_(),m("button",{key:l,onClick:p=>n(l),class:D(["cursor-pointer rounded-full px-4 py-2 text-sm font-medium shadow-md transition-all",o.selectedCategory===l?"bg-primary text-white shadow-lg":"bg-muted hover:bg-muted/80 hover:shadow"])},r(l),11,de))),128))])]))}}),ue=Object.assign(ce,{__name:"BlogCategorySelector"}),me=["onClick"],_e={class:"mb-4 aspect-video overflow-hidden rounded-lg"},pe={class:"mb-3 flex items-center gap-2"},ge={class:"text-muted-foreground rounded-full bg-muted px-3 py-1 text-xs font-medium"},fe={class:"text-muted-foreground text-sm"},he={class:"mb-3 text-xl font-bold transition-colors group-hover:text-primary"},xe={class:"text-muted-foreground mb-4 line-clamp-2 flex-grow"},ve={class:"border-border mt-2 flex items-center justify-between border-t pt-4"},be={class:"flex items-center gap-2"},ye={class:"text-sm font-medium"},we=v({__name:"filtered",props:{filteredLatestPosts:{}},setup(b){return(t,a)=>{const n=w,o=B;return _(!0),m($,null,P(t.filteredLatestPosts,s=>(_(),m("div",{key:s.id,class:"group bg-card flex cursor-pointer flex-col rounded-xl p-4 shadow-lg transition-all hover:shadow-md",onClick:l=>("goToPost"in t?t.goToPost:u(j))(s.id)},[e("div",_e,[i(n,{src:s.image,class:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105",alt:s.title},null,8,["src","alt"])]),e("div",pe,[e("span",ge,r(s.category),1),e("span",fe,r(s.date),1)]),e("h3",he,r(s.title),1),e("p",xe,r(s.excerpt),1),e("div",ve,[e("div",be,[i(n,{src:s.author.avatar,class:"h-8 w-8 rounded-full",alt:s.author.name},null,8,["src","alt"]),e("span",ye,r(s.author.name),1)]),i(o,{variant:"ghost","trailing-icon":"i-lucide-arrow-right",color:"neutral",size:"sm",class:"inline-flex cursor-pointer items-center gap-1 rounded-4xl p-2 font-medium text-primary hover:underline"},{default:C(()=>a[0]||(a[0]=[k(" Read more ")])),_:1})])],8,me))),128)}}}),$e=Object.assign(we,{__name:"BlogFiltered"}),Pe={class:"container mx-auto mb-10"},Ce={class:"container mx-auto px-4"},ke={class:"mb-16"},Be={class:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3"},je={class:"mt-12 flex justify-center"},Ie=v({__name:"example",async setup(b){let t,a;const n=Z(),o=E(!1),{featuredPosts:s,latestPosts:l,categories:p,selectedCategory:d,filteredLatestPosts:g}=O(n),{data:f,pending:y,error:T,refresh:h}=([t,a]=U(()=>q("/api/blog","$1pJ1-uIAlE")),t=await t,a(),t),L=A(()=>[...s.value,...f.value||[]]),F=c=>{d.value!==c&&(d.value=c)};R(()=>{!d.value&&p.value.length>0&&(d.value=p.value[0]??null)});const M=async()=>{o.value=!0,console.log("button clicked");try{await new Promise(c=>setTimeout(c,2e3)),await h()}catch(c){console.error("Error loading more posts:",c)}finally{o.value=!1}};return(c,x)=>{const S=ne,N=ue,z=$e,I=B,V=J("auto-animate");return _(),m("div",Pe,[e("main",Ce,[i(S,{featuredPosts:u(L)},null,8,["featuredPosts"]),e("section",ke,[i(N,{categories:u(p),selectedCategory:u(d),"onUpdate:selectedCategory":F},null,8,["categories","selectedCategory"]),G((_(),m("div",Be,[i(z,{"filtered-latest-posts":u(g)},null,8,["filtered-latest-posts"])])),[[V]]),e("div",je,[i(I,{variant:"solid",color:"primary","trailing-icon":"i-lucide-loader",class:"cursor-pointer rounded-full px-4 py-3 text-center text-base font-semibold transition-all duration-200 hover:bg-primary/80",disabled:u(o),size:"xl",ui:{trailingIcon:u(o)?"animate-spin":""},onClick:x[0]||(x[0]=Te=>M())},{default:C(()=>x[1]||(x[1]=[k(" Load More ")])),_:1},8,["disabled","ui"])])])])])}}});export{Ie as default};
